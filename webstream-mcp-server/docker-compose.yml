services:
  webstream-mcp:
    build: .
    container_name: webstream-mcp-server
    ports:
      - "8000:8000" # Web server port for SSE streaming
    stdin_open: true # Keep stdin open (equivalent to -i)
    tty: true # Allocate a pseudo-TTY (equivalent to -t)
    restart: unless-stopped # Restart policy
    environment:
      - PYTHONUNBUFFERED=1
    # volumes:
    #   # Optional: Mount the Python file for development
    #   - ./webstream_server.py:/app/webstream_server.py
    networks:
      - webstream-network
    healthcheck:
      test: [ "CMD", "pgrep", "tail" ]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 5s

networks:
  webstream-network:
    driver: bridge
